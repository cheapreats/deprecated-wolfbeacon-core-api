{"version":3,"sources":["../../controllers/hackathon-controller.js"],"names":["createHackathon","req","res","hackathonId","body","id","hackathonUuid","uuid","hackathonBody","data","userId","then","createOrUpsertUser","makeUserHackathonOrganiser","addUserToHackathonOrganisers","json","status","message","catch","e","console","error","getHackathonDataAsOrganiser"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAGA,SAASA,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmC;AAC/B,QAAMC,cAAcF,IAAIG,IAAJ,CAASC,EAA7B;AACA,QAAMC,gBAAgBL,IAAIG,IAAJ,CAASG,IAA/B;AACA,QAAMC,gBAAgBP,IAAIG,IAAJ,CAASK,IAA/B;AACA,QAAMC,SAAST,IAAIG,IAAJ,CAASM,MAAxB;;AAEA,+BAAiBV,eAAjB,CAAiCG,WAAjC,EAA8CG,aAA9C,EAA6DE,aAA7D,EACKG,IADL,CACU,sBAAYC,kBAAZ,CAA+BF,MAA/B,CADV,EAEKC,IAFL,CAEU,sBAAYE,0BAAZ,CAAuCH,MAAvC,EAA+CP,WAA/C,CAFV,EAGKQ,IAHL,CAGU,2BAAiBG,4BAAjB,CAA8CJ,MAA9C,EAAsDP,WAAtD,CAHV,EAIKQ,IAJL,CAIUT,IAAIa,IAAJ,CAAS;AACXC,gBAAQ,SADG;AAEXC,qDAA2Cd,WAA3C,wBAAyEO;AAF9D,KAAT,CAJV,EAQKQ,KARL,CAQW,UAACC,CAAD,EAAO;AACVjB,YAAIa,IAAJ,CAAS,EAACC,QAAQ,OAAT,EAAkBC,SAAS,4BAA3B,EAAT;AACAG,gBAAQC,KAAR,CAAcF,CAAd;AACH,KAXL;AAYH;;AAED,SAASG,2BAAT,CAAsCrB,GAAtC,EAA2CC,GAA3C,EAAgD,CAE/C;;kBAEc,EAACF,gCAAD,EAAkBsB,wDAAlB,E","file":"hackathon-controller.js","sourcesContent":["import HackathonService from '../services/hackathon-service';\nimport UserService from '../services/user-service';\n\n\nfunction createHackathon(req, res) {\n    const hackathonId = req.body.id;\n    const hackathonUuid = req.body.uuid;\n    const hackathonBody = req.body.data;\n    const userId = req.body.userId;\n\n    HackathonService.createHackathon(hackathonId, hackathonUuid, hackathonBody)\n        .then(UserService.createOrUpsertUser(userId))\n        .then(UserService.makeUserHackathonOrganiser(userId, hackathonId))\n        .then(HackathonService.addUserToHackathonOrganisers(userId, hackathonId))\n        .then(res.json({\n            status: 'SUCCESS',\n            message: `Successfully created Hackathon ${hackathonId} linked to user ${userId}`\n        }))\n        .catch((e) => {\n            res.json({status: 'ERROR', message: 'Unable to create hackathon'});\n            console.error(e);\n        })\n}\n\nfunction getHackathonDataAsOrganiser (req, res) {\n\n}\n\nexport default {createHackathon, getHackathonDataAsOrganiser}"]}