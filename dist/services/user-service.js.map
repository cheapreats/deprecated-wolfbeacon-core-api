{"version":3,"sources":["../../services/user-service.js"],"names":["UserService","createOrUpsertUser","userId","user","findOneAndUpdate","upsert","new","exec","makeUserHackathonOrganiser","hackathonId","$addToSet","organising","makeUserHackathonVolunteer","findByIdAndUpdate","$push","volunteering","safe","makeUserHackathonParticipant","participating","makeUserHackathonMentor","mentoring"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,cAAc;;AAEhB;;;;AAIAC,sBANgB,8BAMGC,MANH,EAMW;AACvB,YAAIC,OAAO,wBAAS;AAChBD,oBAAQA;AADQ,SAAT,CAAX;AAGA,eAAO,oBAAKE,gBAAL,CACH,EAACF,QAAQA,MAAT,EADG,EAEHC,IAFG,EAGH,EAACE,QAAQ,IAAT,EAAeC,KAAK,IAApB,EAHG,EAILC,IAJK,EAAP;AAKH,KAfe;;;AAiBhB;;;;AAIAC,8BArBgB,sCAqBWN,MArBX,EAqBmBO,WArBnB,EAqBgC;AAC5C,eAAO,oBAAKL,gBAAL,CACH,EAACF,QAAQA,MAAT,EADG,EAEH,EAACQ,WAAW,EAACC,YAAYF,WAAb,EAAZ,EAFG,EAGLF,IAHK,EAAP;AAIH,KA1Be;AA6BhBK,8BA7BgB,sCA6BWV,MA7BX,EA6BmBO,WA7BnB,EA6BgC;AAC5C,4BAAKI,iBAAL,CACIX,MADJ,EAEI,EAACY,OAAO,EAACC,cAAcN,WAAf,EAAR,EAFJ,EAGI,EAACO,MAAM,IAAP,EAAaX,QAAQ,IAArB,EAHJ;AAKH,KAnCe;AAqChBY,gCArCgB,wCAqCaf,MArCb,EAqCqBO,WArCrB,EAqCkC;AAC9C,4BAAKI,iBAAL,CACIX,MADJ,EAEI,EAACY,OAAO,EAACI,eAAeT,WAAhB,EAAR,EAFJ,EAGI,EAACO,MAAM,IAAP,EAAaX,QAAQ,IAArB,EAHJ;AAKH,KA3Ce;AA6ChBc,2BA7CgB,mCA6CQjB,MA7CR,EA6CgBO,WA7ChB,EA6C6B;AACzC,4BAAKI,iBAAL,CACIX,MADJ,EAEI,EAACY,OAAO,EAACM,WAAWX,WAAZ,EAAR,EAFJ,EAGI,EAACO,MAAM,IAAP,EAAaX,QAAQ,IAArB,EAHJ;AAKH;AAnDe,CAApB;;kBAuDeL,W","file":"user-service.js","sourcesContent":["import User from '../models/user-model';\n\nconst UserService = {\n\n    /**\n     * Create or Upsert\n     */\n\n    createOrUpsertUser(userId) {\n        let user = new User({\n            userId: userId\n        });\n        return User.findOneAndUpdate(\n            {userId: userId},\n            user,\n            {upsert: true, new: true},\n        ).exec();\n    },\n\n    /**\n     * Add Users to Hackathons in different roles\n     */\n\n    makeUserHackathonOrganiser(userId, hackathonId) {\n        return User.findOneAndUpdate(\n            {userId: userId},\n            {$addToSet: {organising: hackathonId}},\n        ).exec();\n    },\n\n\n    makeUserHackathonVolunteer(userId, hackathonId) {\n        User.findByIdAndUpdate(\n            userId,\n            {$push: {volunteering: hackathonId}},\n            {safe: true, upsert: true}\n        );\n    },\n\n    makeUserHackathonParticipant(userId, hackathonId) {\n        User.findByIdAndUpdate(\n            userId,\n            {$push: {participating: hackathonId}},\n            {safe: true, upsert: true}\n        );\n    },\n\n    makeUserHackathonMentor(userId, hackathonId) {\n        User.findByIdAndUpdate(\n            userId,\n            {$push: {mentoring: hackathonId}},\n            {safe: true, upsert: true}\n        );\n    }\n};\n\n\nexport default UserService;"]}