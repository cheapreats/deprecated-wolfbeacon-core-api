{"version":3,"sources":["../../services/user-service.js"],"names":["UserService","createOrUpsertUser","userId","user","_id","findOneAndUpdate","upsert","new","err","console","log","makeUserHackathonOrganiser","hackathonId","findByIdAndUpdate","$addToSet","organising","makeUserHackathonVolunteer","$push","volunteering","safe","makeUserHackathonParticipant","participating","makeUserHackathonMentor","mentoring"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,cAAc;;AAEhB;;;;AAIAC,sBANgB,8BAMGC,MANH,EAMW;AACvB,YAAMC,OAAO,wBAAS;AAClBC,iBAAKF;AADa,SAAT,CAAb;AAGA,4BAAKG,gBAAL,CACI,EAACD,KAAKF,MAAN,EADJ,EAEIC,IAFJ,EAGI,EAACG,QAAQ,IAAT,EAAeC,KAAK,IAApB,EAHJ,EAII,UAAUC,GAAV,EAAe;AACX,gBAAIA,GAAJ,EAAS;AACLC,wBAAQC,GAAR,CAAYF,GAAZ;AACH;AACJ,SARL;AAUH,KApBe;;;AAsBhB;;;;AAIAG,8BA1BgB,sCA0BWT,MA1BX,EA0BmBU,WA1BnB,EA0BgC;AAC5C,4BAAKC,iBAAL,CACIX,MADJ,EAEI,EAACY,WAAW,EAACC,YAAYH,WAAb,EAAZ,EAFJ,EAGI,UAAUJ,GAAV,EAAe;AACX,gBAAIA,GAAJ,EAAS;AACLC,wBAAQC,GAAR,CAAYF,GAAZ;AACH;AACJ,SAPL;AASH,KApCe;AAuChBQ,8BAvCgB,sCAuCWd,MAvCX,EAuCmBU,WAvCnB,EAuCgC;AAC5C,4BAAKC,iBAAL,CACIX,MADJ,EAEI,EAACe,OAAO,EAACC,cAAcN,WAAf,EAAR,EAFJ,EAGI,EAACO,MAAM,IAAP,EAAab,QAAQ,IAArB,EAHJ;AAKH,KA7Ce;AA+ChBc,gCA/CgB,wCA+CalB,MA/Cb,EA+CqBU,WA/CrB,EA+CkC;AAC9C,4BAAKC,iBAAL,CACIX,MADJ,EAEI,EAACe,OAAO,EAACI,eAAeT,WAAhB,EAAR,EAFJ,EAGI,EAACO,MAAM,IAAP,EAAab,QAAQ,IAArB,EAHJ;AAKH,KArDe;AAuDhBgB,2BAvDgB,mCAuDQpB,MAvDR,EAuDgBU,WAvDhB,EAuD6B;AACzC,4BAAKC,iBAAL,CACIX,MADJ,EAEI,EAACe,OAAO,EAACM,WAAWX,WAAZ,EAAR,EAFJ,EAGI,EAACO,MAAM,IAAP,EAAab,QAAQ,IAArB,EAHJ;AAKH;AA7De,CAApB;;kBAiEeN,W","file":"user-service.js","sourcesContent":["import User from '../models/user-model';\n\nconst UserService = {\n\n    /**\n     * Create or Upsert\n     */\n\n    createOrUpsertUser(userId) {\n        const user = new User({\n            _id: userId\n        });\n        User.findOneAndUpdate(\n            {_id: userId},\n            user,\n            {upsert: true, new: true},\n            function (err) {\n                if (err) {\n                    console.log(err);\n                }\n            }\n        );\n    },\n\n    /**\n     * Add Users to Hackathons in different roles\n     */\n\n    makeUserHackathonOrganiser(userId, hackathonId) {\n        User.findByIdAndUpdate(\n            userId,\n            {$addToSet: {organising: hackathonId}},\n            function (err) {\n                if (err) {\n                    console.log(err);\n                }\n            }\n        );\n    },\n\n\n    makeUserHackathonVolunteer(userId, hackathonId) {\n        User.findByIdAndUpdate(\n            userId,\n            {$push: {volunteering: hackathonId}},\n            {safe: true, upsert: true}\n        );\n    },\n\n    makeUserHackathonParticipant(userId, hackathonId) {\n        User.findByIdAndUpdate(\n            userId,\n            {$push: {participating: hackathonId}},\n            {safe: true, upsert: true}\n        );\n    },\n\n    makeUserHackathonMentor(userId, hackathonId) {\n        User.findByIdAndUpdate(\n            userId,\n            {$push: {mentoring: hackathonId}},\n            {safe: true, upsert: true}\n        );\n    }\n};\n\n\nexport default UserService;"]}